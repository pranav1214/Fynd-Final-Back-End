(function(t){function e(e){for(var a,i,n=e[0],l=e[1],c=e[2],u=0,m=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,n=1;n<r.length;n++){var l=r[n];0!==s[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},s={app:0},o=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"22ff":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),s=r("8c4f"),o=r("b079"),i=r.n(o),n=r("1dce"),l=r.n(n),c=(r("f9e3"),r("15f5"),r("ce8c"),r("2f62"));a["a"].config.productionTip=!1,a["a"].use(c["a"]),a["a"].use(l.a),a["a"].use(s["a"]),a["a"].use(i.a);r("d3b7"),r("99af");var d=r("bc3a"),u=r.n(d),m=function(t){return t.data},p=function(t){throw console.log(t.message),t},v="token",f=function(t){return u.a.post("".concat("/api","/auth/login"),t,{header:{"Content-Type":"application/json"}},{withCredentials:!0}).then(m).catch(p)},g=function(t){return u.a.post("".concat("/api","/auth/register"),t,{headers:{"Content-Type":"application/json"}},{withCredentails:!0}).then(m).catch(p)},h=function(){return u.a.get("".concat("/api","/product/"),{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem(v)}},{withCredentials:!0}).then(m).catch(p)},$=function(t){return u.a.get("".concat("/api","/product/").concat(t)).then(m).catch(p)},C=function(t){return u.a.post("".concat("/api","/product/"),t,{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem(v)}}).then(m).catch(p)},_=function(t){return u.a.patch("".concat("/api","/product/").concat(t._id),t,{headers:{"Content-Type":"application/json",Authorization:localStorage.getItem(v)}}).then(m).catch(p)},y="token",b="email",w="role",A={state:{token:localStorage.getItem(y)||"",email:localStorage.getItem(b)||"",role:localStorage.getItem(w)||""},getters:{isAuthenticated:function(t){return!!t.token}},mutations:{setToken:function(t,e){t.token=e},setEmail:function(t,e){t.email=e},setRole:function(t,e){t.role=e}},actions:{login:function(t,e){var r=t.commit;return f(e).then((function(t){var e=t.token,a=t.email,s=t.role;return localStorage.setItem(y,e),localStorage.setItem(b,a),localStorage.setItem(w,s),r("setToken",e),r("setEmail",a),r("setRole",s),{status:"success",data:{token:e,email:a,role:s}}}))},logout:function(t){var e=t.commit;return localStorage.removeItem(y),localStorage.removeItem(b),localStorage.removeItem(w),e("setToken",""),e("setEmail",""),e("setRole",""),Promise.resolve()}}},P=A,x=new c["a"].Store({modules:{auth:P},state:{isLoggedIn:!!localStorage.getItem("lbUser")}}),E=x,q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("h1",[t._v("Login")]),r("hr"),r("form",{attrs:{name:"form"},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[r("div",{staticClass:"form-group my-2"},[r("label",{attrs:{for:"email"}},[t._v(" Enter email: ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control w-50",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.form.email),"is-valid":t.shouldAppendValidClass(t.$v.form.email)},attrs:{type:"email",name:"email",id:"email",placeholder:"abc@example.com"},domProps:{value:t.form.email},on:{blur:function(e){return t.$v.form.email.$touch()},input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),t.$v.form.email.$error?r("div",[t.$v.form.email.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" Invalid email address ")])])]):t._e()]),r("div",{staticClass:"form-group my-2"},[r("label",{attrs:{for:"password"}},[t._v(" Enter Password: ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control w-50",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.form.password),"is-valid":t.shouldAppendValidClass(t.$v.form.password)},attrs:{type:"password",autocomplete:"off",name:"password",id:"password"},domProps:{value:t.form.password},on:{blur:function(e){return t.$v.form.password.$touch()},input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),t.$v.form.password.$error?r("div",[t.$v.form.password.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" Password is required ")])]),t.$v.form.password.minLength?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" Password must have atleast 8 characters ")])])]):t._e()]),r("div",{staticClass:"form-group my-2"},[r("button",{staticClass:"btn btn-primary me-5",attrs:{disabled:t.$v.form.$invalid}},[t._v(" Login ")]),t.processing?r("app-spinner"):t._e()],1)]),r("div",{staticClass:"mt-2"},[r("router-link",{staticClass:"text-body initial-text",attrs:{to:{name:"signup"}}},[t._v(" Don't have an account? Click here ")])],1)])])},O=[],k=r("b5ae"),N={name:"AppLogin",title:"Login | Grocery Mart",data:function(){return{processing:!1,form:{email:"",password:""}}},validations:{form:{email:{email:k["email"],required:k["required"]},password:{required:k["required"],minLength:Object(k["minLength"])(8)}}},methods:{shouldAppendErrorClass:function(t){return t.$error},shouldAppendValidClass:function(t){return!t.$invalid&&t.$model&&t.$dirty},login:function(){var t=this;this.$v.form.$touch();var e={};this.$v.form.$invalid?console.log("invalid input values"):this.$store.dispatch("login",this.form).then((function(r){"success"===r.status?(e.data=r.data,e.token=r.data.token,t.$store.state.isLoggedIn=!0,window.localStorage.setItem("lbitem",JSON.stringify(e)),"admin"===e.data.role?(t.$router.push({name:"addproduct"}),a["a"].$toast.open({message:"Admin Login successful",duration:5e3,type:"success"})):(t.$router.push({name:"products"}),a["a"].$toast.open({message:"Login successful",duration:5e3,type:"success"}))):t.$store.state.isLoggedIn=!1})).catch((function(t){a["a"].$toast.open({message:t.response.data.message,duration:5e3,type:"error"})}))}}},L=N,S=r("2877"),I=Object(S["a"])(L,q,O,!1,null,null,null),j=I.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},["LOADING"===t.status?r("AppAlert",{attrs:{theme:"info"},scopedSlots:t._u([{key:"title",fn:function(){return[r("strong",[t._v("Hello!")])]},proxy:!0}],null,!1,3906831354)},[r("strong",[t._v("We are fetching products!")])]):"ERROR"===t.status?r("AppAlert",{attrs:{theme:"danger"}},[r("strong",[t._v(t._s(t.error.message))])]):r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("h1",{staticClass:"clearfix"},[t._v(" List of Products ")]),r("hr")]),t._l(t.products,(function(t){return r("div",{key:t._id,staticClass:"col-12 col-lg-4"},[r("router-link",{staticClass:"text-reset text-decoration-none",attrs:{to:"/products/"+t._id}},[r("ProductCard",{attrs:{product:t}})],1)],1)}))],2)],1)},R=[],G=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"alert",class:"alert-"+t.theme,attrs:{role:"alert"}},[r("div",{staticClass:"font-weight-bold"},[t._t("title")],2),r("div",{staticClass:"font-weight-bold"},[t._t("alert-heading")],2),t._t("default")],2)},U=[],T=(r("caad"),{props:{theme:{type:String,validator:function(t){return["primary","secondary","success","danger","warning","info","light","dark"].includes(t)}}}}),V={name:"AppAlert",mixins:[T]},M=V,J=Object(S["a"])(M,G,U,!1,null,"48396396",null),W=J.exports,z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card p-2 my-3"},[r("div",{staticClass:"card-img-container"},[r("img",{staticClass:"card-img-top",attrs:{src:t.product.imageUrl,alt:t.product.name}})]),r("div",{staticClass:"card-body"},[r("h4",{staticClass:"card-title"},[t._v(" "+t._s(t.product.name)+" ")]),r("div",{staticClass:"card-text"},[r("div",{staticClass:"caard-text"},[t._v(" Category: "),r("strong",[t._v(t._s(t.product.category))])]),r("div",[r("strong",[t._v("₹ "+t._s(t.product.price)+" ")])])])])])},H=[],F=(r("b0c0"),{name:"ProductCard",props:{product:{type:Object,required:!0,validator:function(t){return t.name&&t._id}}}}),Y=F,Z=(r("929f"),Object(S["a"])(Y,z,H,!1,null,"eeec10f4",null)),B=Z.exports,K={name:"Products",title:"Products | Grocery Mart",components:{AppAlert:W,ProductCard:B},data:function(){return{status:"LOADING",products:[],error:null}},created:function(){var t=this;this.status="LOADING",h().then((function(e){t.products=e,t.status="LOADED"})).catch((function(e){t.error=e,t.status="ERROR"}))}},Q=K,X=Object(S["a"])(Q,D,R,!1,null,"0ff97345",null),tt=X.exports,et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("h1",[t._v("Sign Up")]),r("hr"),r("form",{attrs:{name:"sform"},on:{submit:function(e){return e.preventDefault(),t.signup.apply(null,arguments)}}},[r("div",{staticClass:"formgroup"},[r("label",{attrs:{for:"name"}},[t._v("Enter Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.sform.name,expression:"sform.name"}],staticClass:"form-control w-50",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.sform.name),"is-valid":t.shouldAppendValidClass(t.$v.sform.name)},attrs:{type:"text",name:"name",id:"name",placeholder:"John Doe"},domProps:{value:t.sform.name},on:{blur:function(e){return t.$v.sform.name.$touch()},input:function(e){e.target.composing||t.$set(t.sform,"name",e.target.value)}}}),t.$v.sform.name.$error?r("div",[t.$v.sform.name.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" This field is required ")])])]):t._e()]),r("div",{staticClass:"formgroup my-2"},[r("label",{attrs:{for:"email"}},[t._v(" Enter Email ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.sform.email,expression:"sform.email"}],staticClass:"form-control w-50",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.sform.email),"is-valid":t.shouldAppendValidClass(t.$v.sform.email)},attrs:{type:"email",name:"email",id:"email",placeholder:"abc@example.com"},domProps:{value:t.sform.email},on:{blur:function(e){return t.$v.sform.email.$touch()},input:function(e){e.target.composing||t.$set(t.sform,"email",e.target.value)}}}),t.$v.sform.email.$error?r("div",[t.$v.sform.email.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" Email field is required ")])]),t.$v.sform.email.email?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" Invalid email address ")])])]):t._e()]),r("div",{staticClass:"form-group my-2"},[r("label",{attrs:{for:"password"}},[t._v("Enter Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.sform.password,expression:"sform.password"}],staticClass:"form-control w-50",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.sform.password),"is-valid":t.shouldAppendValidClass(t.$v.sform.password)},attrs:{type:"password",autocomplete:"off",name:"password",id:"password"},domProps:{value:t.sform.password},on:{blur:function(e){return t.$v.sform.password.$touch()},input:function(e){e.target.composing||t.$set(t.sform,"password",e.target.value)}}}),t.$v.sform.password.$error?r("div",[t.$v.sform.password.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("The password is required")])]),t.$v.sform.password.minLength?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("Password must have atleast 8 characters")])]),t.$v.sform.password.containsUppercase?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("Password must have atleast 1 uppercase characters")])]),t.$v.sform.password.containsLowercase?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("Password must have atleast 1 lowercase characters")])]),t.$v.sform.password.containsNumber?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("Password must have atleast 1 number characters")])]),t.$v.sform.password.containsSpecial?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("Password must have atleast 1 special characters")])])]):t._e()]),r("div",{staticClass:"form-group my-2"},[r("label",{attrs:{for:"confirmPassword"}},[t._v("Confirm Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.sform.confirmPassword,expression:"sform.confirmPassword"}],staticClass:"form-control w-50",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.sform.confirmPassword),"is-valid":t.shouldAppendValidClass(t.$v.sform.confirmPassword)},attrs:{type:"password",id:"confirmPassword",name:"confirmPassword"},domProps:{value:t.sform.confirmPassword},on:{blur:function(e){return t.$v.sform.confirmPassword.$touch()},input:function(e){e.target.composing||t.$set(t.sform,"confirmPassword",e.target.value)}}}),t.$v.sform.confirmPassword.$error?r("div",[t.$v.sform.confirmPassword.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("Confirm password is required")])]),t.$v.sform.confirmPassword.sameAsPassword?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v("Passwords must match")])])]):t._e()]),r("div",{staticClass:"form-group my-2"},[r("button",{staticClass:"btn btn-primary",attrs:{disabled:t.$v.sform.$invalid}},[t._v(" Sign Up ")]),t.processing?r("app-spinner"):t._e()],1)]),t._m(0)])])},rt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"text-muted"},[r("small",[r("strong",[t._v("NOTE")]),t._v(": Password must be minimum 8 characters and contain atleast 1 Upper case, 1 Lower case, 1 Number and 1 Special character")])])}],at={name:"AppSignup",title:"Signup | Grocery Mart",data:function(){return{processing:!1,sform:{name:"",email:"",password:"",confirmPassword:"",role:"general"}}},validations:{sform:{name:{required:k["required"]},email:{email:k["email"],required:k["required"]},password:{required:k["required"],minLength:Object(k["minLength"])(8),containsUppercase:function(t){return/[A-Z]/.test(t)},containsLowercase:function(t){return/[a-z]/.test(t)},containsNumber:function(t){return/[0-9]/.test(t)},containsSpecial:function(t){return/[#?!@$%^&*-]/.test(t)}},confirmPassword:{required:k["required"],sameAsPassword:Object(k["sameAs"])("password")}}},methods:{shouldAppendErrorClass:function(t){return t.$error},shouldAppendValidClass:function(t){return!t.$invalid&&t.$model&&t.$dirty},signup:function(){var t=this;this.$v.sform.$touch(),this.$v.sform.$invalid?console.log("Invalid input values"):g(this.sform).then((function(){t.$router.push({name:"login"}),a["a"].$toast.open({message:"Signup was successful",duration:5e3,type:"success"})})).catch((function(t){a["a"].$toast.open({message:t.response.data.message,duration:5e3,type:"error"})}))}}},st=at,ot=Object(S["a"])(st,et,rt,!1,null,"fb2fe82e",null),it=ot.exports,nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h1",[t._v("Admin Dashboard")]),r("hr"),r("div",{staticClass:"container"},[r("ul",{staticClass:"nav nav-tabs"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/admin","active-class":"active",exact:""}},[t._v("Add Product")]),r("router-link",{staticClass:"nav-link",attrs:{to:"/admin/edit","active-class":"active",exact:""}},[t._v("Edit Product ")])],1),r("router-view")],1)])},lt=[],ct={name:"Admin",title:"Admin | Grocery Mart"},dt=ct,ut=Object(S["a"])(dt,nt,lt,!1,null,"9ba1fcac",null),mt=ut.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("h1",[t._v("Page Not Found")]),r("hr"),r("p",[t._v(" Well done! You have managed to get lost. "),r("router-link",{attrs:{to:{name:"products"}}},[t._v("Go to home")])],1)])},vt=[],ft={name:"PageNotFound",title:"404 | Grocery Mart"},gt=ft,ht=Object(S["a"])(gt,pt,vt,!1,null,"0eec7d27",null),$t=ht.exports,Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",["LOADING"===t.status?r("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[r("strong",[t._v("We are getting your product")])]):"ERROR"===t.status?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[r("strong",[t._v(t._s(t.error.message))])]):[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("h1",[t._v(t._s(t.product.name))]),r("hr")])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-lg-4"},[r("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl,alt:"product.name"}})]),r("div",{staticClass:"col-12 col-lg-8 my-5"},[r("h2",[t._v("Description:")]),r("p",[t._v(" "+t._s(t.product.description)+" ")]),r("h4",[t._v("Price: ₹"+t._s(t.product.price))]),r("h6",[t._v("Category: "+t._s(t.product.category))])])])]],2)},_t=[],yt={name:"ProductList",title:"Product | Grocery Mart",data:function(){return{status:"LOADING",product:null,error:null}},created:function(){var t=this;this.status="LOADING";var e=this.$route.params.id;$(e).then((function(e){t.product=e,t.status="LOADED"})).catch((function(e){t.error=e,t.status="ERROR"}))}},bt=yt,wt=Object(S["a"])(bt,Ct,_t,!1,null,"65e9de80",null),At=wt.exports,Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("form",{staticClass:"mt-4",attrs:{name:"aform"},on:{submit:function(e){return e.preventDefault(),t.addProduct.apply(null,arguments)}}},[r("div",{staticClass:"container"},[r("h3",[t._v(" Add Product ")]),r("div",{staticClass:"formgroup my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"name"}},[t._v(" Product Name ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.aform.name,expression:"aform.name"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.aform.name),"is-valid":t.shouldAppendValidClass(t.$v.aform.name)},attrs:{type:"text",name:"name",id:"name",placeholder:"Enter product name"},domProps:{value:t.aform.name},on:{blur:function(e){return t.$v.aform.name.$touch()},input:function(e){e.target.composing||t.$set(t.aform,"name",e.target.value)}}}),t.$v.aform.name.$error?r("div",[t.$v.aform.name.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" This field is required ")])])]):t._e()]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"description"}},[t._v(" Product Description ")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.aform.description,expression:"aform.description"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.aform.description),"is-valid":t.shouldAppendValidClass(t.$v.aform.description)},attrs:{name:"description",id:"description",rows:"3",placeholder:"Enter product description"},domProps:{value:t.aform.description},on:{blur:function(e){return t.$v.aform.description.$touch()},input:function(e){e.target.composing||t.$set(t.aform,"description",e.target.value)}}}),t.$v.aform.description.$error?r("div",[t.$v.aform.description.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" This field is required ")])])]):t._e()]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"category"}},[t._v(" Product Category ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.aform.category,expression:"aform.category"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.aform.category),"is-valid":t.shouldAppendValidClass(t.$v.aform.category)},attrs:{type:"text",name:"category",id:"category",placeholder:"Enter product category"},domProps:{value:t.aform.category},on:{blur:function(e){return t.$v.aform.category.$touch()},input:function(e){e.target.composing||t.$set(t.aform,"category",e.target.value)}}}),t.$v.aform.category.$error?r("div",[t.$v.aform.category.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" This field is required ")])])]):t._e()]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"price"}},[t._v(" Product Price ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.aform.price,expression:"aform.price"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.aform.price),"is-valid":t.shouldAppendValidClass(t.$v.aform.price)},attrs:{type:"number",name:"price",id:"price",placeholder:"Enter product price"},domProps:{value:t.aform.price},on:{blur:function(e){return t.$v.aform.price.$touch()},input:function(e){e.target.composing||t.$set(t.aform,"price",e.target.value)}}}),t.$v.aform.price.$error?r("div",[t.$v.aform.price.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" This field is required ")])])]):t._e()]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"imageUrl"}},[t._v(" Product Image Link ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.aform.imageUrl,expression:"aform.imageUrl"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.aform.imageUrl),"is-valid":t.shouldAppendValidClass(t.$v.aform.imageUrl)},attrs:{type:"text",name:"imageUrl",id:"imageUrl",placeholder:"Enter product image link"},domProps:{value:t.aform.imageUrl},on:{blur:function(e){return t.$v.aform.imageUrl.$touch()},input:function(e){e.target.composing||t.$set(t.aform,"imageUrl",e.target.value)}}}),t.$v.aform.imageUrl.$error?r("div",[t.$v.aform.imageUrl.required?t._e():r("div",{staticClass:"text-danger"},[r("small",[t._v(" This field is required ")])])]):t._e()]),r("div",{staticClass:"form-group my-3 mx-2"},[r("button",{staticClass:"btn btn-primary my-2 mb-4",attrs:{disabled:t.$v.aform.$invalid}},[t._v(" Add Product ")]),t.processing?r("app-spinner"):t._e()],1)])])])},xt=[],Et={name:"AddProduct",title:"Add Product | Grocery Mart",data:function(){return{processing:!1,aform:{name:"",description:"",category:"",price:"",imageUrl:""}}},validations:{aform:{name:{required:k["required"]},description:{required:k["required"]},category:{required:k["required"]},price:{required:k["required"]},imageUrl:{required:k["required"]}}},methods:{shouldAppendErrorClass:function(t){return t.$error},shouldAppendValidClass:function(t){return!t.$invalid&&t.$model&&t.$dirty},addProduct:function(){var t=this;this.$v.aform.$touch(),this.$v.aform.$invalid?console.log("invalid input values"):(console.log(this.aform),C(this.aform).then((function(){t.$router.push({name:"products"}),a["a"].$toast.open({message:"Product was added",duration:5e3,type:"success"})})).catch((function(t){a["a"].$toast.open({message:t.response.data.message,duration:5e3,type:"error"})})))}}},qt=Et,Ot=Object(S["a"])(qt,Pt,xt,!1,null,null,null),kt=Ot.exports,Nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},["LOADING"===t.status?r("AppAlert",{attrs:{theme:"info"},scopedSlots:t._u([{key:"title",fn:function(){return[r("strong",[t._v("Hello!")])]},proxy:!0}],null,!1,3906831354)},[r("strong",[t._v("We are fetching products!")])]):"ERROR"===t.status?r("AppAlert",{attrs:{theme:"danger"}},[r("strong",[t._v(t._s(t.error.message))])]):r("div",{staticClass:"container"},[r("h3",{staticClass:"mt-4"},[t._v(" Edit Product ")]),r("div",{staticClass:"row"},t._l(t.products,(function(e){return r("div",{key:e._id,staticClass:"col-lg-6"},[r("div",{staticClass:"card mt-4"},[r("div",{staticClass:"card-body"},[r("h6",{staticClass:"card-title"},[t._v(" "+t._s(e.name)+" ")]),r("router-link",{attrs:{to:{name:"editproductdetail",params:{id:e._id}}}},[r("button",{staticClass:"btn btn-danger"},[t._v(" Edit ")])])],1)])])})),0)])],1)},Lt=[],St={name:"EditProduct",title:"Edit Product | Grocery Mart",components:{AppAlert:W},data:function(){return{products:[],status:"LOADING",error:null}},created:function(){var t=this;this.status="LOADING",h().then((function(e){t.products=e,t.status="LOADED"})).catch((function(e){console.log(e),t.error=e,t.status="ERROR"}))}},It=St,jt=Object(S["a"])(It,Nt,Lt,!1,null,"4618fc07",null),Dt=jt.exports,Rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("form",{staticClass:"mt-4",attrs:{name:"eform"},on:{submit:function(e){return e.preventDefault(),t.editProduct.apply(null,arguments)}}},["LOADING"===t.status?r("AppAlert",{attrs:{theme:"info"},scopedSlots:t._u([{key:"title",fn:function(){return[r("strong",[t._v("Hello!")])]},proxy:!0}],null,!1,3906831354)},[r("strong",[t._v("We are fetching product details!")])]):"ERROR"===t.status?r("AppAlert",{attrs:{theme:"danger"}},[r("strong",[t._v(t._s(t.error.message))])]):r("div",{staticClass:"container"},[r("h3",[t._v(" Edit "+t._s(t.product.name)+" ")]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"name"}},[t._v(" Product Name ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.eform.name,expression:"eform.name"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.eform.name),"is-valid":t.shouldAppendValidClass(t.$v.eform.name)},attrs:{type:"text",name:"name",id:"name"},domProps:{value:t.eform.name},on:{blur:function(e){return t.$v.eform.name.$touch()},input:function(e){e.target.composing||t.$set(t.eform,"name",e.target.value)}}})]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"description"}},[t._v(" Product Description ")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.eform.description,expression:"eform.description"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.eform.description),"is-valid":t.shouldAppendValidClass(t.$v.eform.description)},attrs:{name:"description",id:"description",rows:"3"},domProps:{value:t.eform.description},on:{blur:function(e){return t.$v.eform.description.$touch()},input:function(e){e.target.composing||t.$set(t.eform,"description",e.target.value)}}})]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"category"}},[t._v(" Product Category ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.eform.category,expression:"eform.category"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.eform.category),"is-valid":t.shouldAppendValidClass(t.$v.eform.category)},attrs:{type:"text",name:"category",id:"category"},domProps:{value:t.eform.category},on:{blur:function(e){return t.$v.eform.category.$touch()},input:function(e){e.target.composing||t.$set(t.eform,"category",e.target.value)}}})]),r("div",{staticClass:"form-group my-2 mx-2 me-5"},[r("label",{staticClass:"my-2",attrs:{for:"price"}},[t._v(" Product Price ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.eform.price,expression:"eform.price"}],staticClass:"form-control",class:{"is-invalid":t.shouldAppendErrorClass(t.$v.eform.price),"is-valid":t.shouldAppendValidClass(t.$v.eform.price)},attrs:{type:"text",name:"price",id:"price"},domProps:{value:t.eform.price},on:{blur:function(e){return t.$v.eform.price.$touch()},input:function(e){e.target.composing||t.$set(t.eform,"price",e.target.value)}}})]),r("div",{staticClass:"form-group my-3 mx-2"},[r("button",{staticClass:"btn btn-primary my-2 mb-4",attrs:{disabled:t.$v.eform.$invalid}},[t._v(" Submit ")]),t.processing?r("app-spinner"):t._e()],1)])],1)])},Gt=[],Ut=(r("a4d3"),r("e01a"),{name:"EditProductDetail",title:"Edit Product | Grocery Mart",components:{AppAlert:W},data:function(){return{eform:{name:"",description:"",category:"",price:""},status:"LOADING",product:null,error:null,processing:!1}},validations:{eform:{name:{required:k["required"]},description:{required:k["required"]},category:{required:k["required"]},price:{required:k["required"]}}},created:function(){var t=this;this.status="LOADING";var e=this.$route.params.id;$(e).then((function(e){t.product=e,t.eform.name=t.product.name,t.eform.description=t.product.description,t.eform.category=t.product.category,t.eform.price=t.product.price,t.status="LOADED"})).catch((function(e){t.error=e,t.status="ERROR"}))},methods:{shouldAppendErrorClass:function(t){return t.$error},shouldAppendValidClass:function(t){return!t.$invalid&&t.$model&&t.$dirty},editProduct:function(){var t=this;this.$v.eform.$touch(),this.eform.$invalid?console.log("invalid input values"):(this.eform._id=this.$route.params.id,console.log(this.eform),_(this.eform).then((function(){t.$router.push({name:"editproduct"}),a["a"].$toast.open({message:"Product was edited",duration:5e3,type:"success"})})).catch((function(t){a["a"].$toast.open({message:t.response.data.message,duration:5e3,type:"error"})})))}}}),Tt=Ut,Vt=Object(S["a"])(Tt,Rt,Gt,!1,null,"36341e88",null),Mt=Vt.exports,Jt=new s["a"]({mode:"history",routes:[{name:"login",path:"/login",component:j},{name:"products",path:"/",component:tt,meta:{adminAuth:!1,generalAuth:!0}},{name:"signup",path:"/signup",component:it},{name:"admin",path:"/admin",component:mt,meta:{requiresAuth:!0,adminAuth:!0,generalAuth:!1},children:[{name:"addproduct",path:"",component:kt,meta:{requiresAuth:!0,adminAuth:!0,generalAuth:!1}},{name:"editproduct",path:"/admin/edit",component:Dt,meta:{requiresAuth:!0,adminAuth:!0,generalAuth:!1}},{name:"editproductdetail",path:"/admin/edit/:id",component:Mt,meta:{requiresAuth:!0,adminAuth:!0,generalAuth:!1}}]},{name:"product-details",path:"/products/:id",component:At},{name:"page-not-found",path:"*",component:$t}]});Jt.beforeEach((function(t,e,r){var a=JSON.parse(window.localStorage.getItem("lbitem"));return console.log(E.getters.isAuthenticated),t.meta.requiresAuth&&!E.getters.isAuthenticated?r("/login"):a&&a.data&&"admin"!==a.data.role&&t.meta.adminAuth?r({name:"page-not-found"}):void r()}));var Wt=Jt,zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("AppNavbar"),r("div",{staticClass:"container"},[r("router-view")],1)],1)},Ht=[],Ft=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-expand-lg  navbar-light bg-light"},[r("div",{staticClass:"container"},[t.isAuthenticated?[r("ul",{staticClass:"nav navbar-nav"},[r("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[t._v("Grocery Shop")]),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:t.links[2]}},[t._v(" Products ")])],1),t.isAuthenticated&&"admin"===t.role?[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:t.links[3]}},[t._v(" Admin ")])],1)]:t._e()],2),r("ul",{staticClass:"nav navbar-nav"},[r("li",{staticClass:"nav-item"},[r("span",{staticClass:"nav-link"},[t._v("Hello "),r("span",{staticClass:"text-primary"},[t._v(t._s(t.email))])])]),r("li",{staticClass:"nav-item"},[r("span",{staticClass:"nav-link cursor-pointer",on:{click:function(e){return t.logout()}}},[t._v("Logout")])])])]:r("ul",{staticClass:"nav navbar-nav"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:t.links[2]}},[t._v(" Products ")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:t.links[0]}},[t._v(" Login ")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:t.links[1]}},[t._v(" Signup ")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:t.links[2]}},[t._v(" Products ")])],1)])],2)])},Yt=[],Zt={name:"AppNavbar",data:function(){return{links:[{name:"login"},{name:"signup"},{name:"products"},{name:"addproduct"}]}},computed:{email:function(){return this.$store.state.auth.email},isAuthenticated:function(){return this.$store.getters.isAuthenticated},role:function(){return console.log(this.$store.state.auth.role),this.$store.state.auth.role}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then((function(){return t.$router.push({name:"login"})}))}},created:function(){console.log(this.$store,"store")}},Bt=Zt,Kt=(r("dec7"),Object(S["a"])(Bt,Ft,Yt,!1,null,"25243abc",null)),Qt=Kt.exports,Xt={name:"App",components:{AppNavbar:Qt}},te=Xt,ee=Object(S["a"])(te,zt,Ht,!1,null,null,null),re=ee.exports;function ae(t){var e=t.$options.title;if(e)return"function"===typeof e?e.call(t):e}var se={created:function(){var t=ae(this);t&&(document.title=t)}};a["a"].mixin(se),new a["a"]({store:E,router:Wt,render:function(t){return t(re)}}).$mount("#app")},"929f":function(t,e,r){"use strict";r("22ff")},dec7:function(t,e,r){"use strict";r("eb60")},eb60:function(t,e,r){}});
//# sourceMappingURL=app.70ba9f52.js.map